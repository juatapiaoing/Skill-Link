-- Add precio column to SERVICIO table
ALTER TABLE SERVICIO ADD COLUMN precio VARCHAR(50);

-- Create SOLICITUD_SERVICIO table for hiring/contacting
CREATE TABLE SOLICITUD_SERVICIO (
  id_solicitud BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  id_servicio INTEGER REFERENCES SERVICIO(id_servicio),
  id_cliente INTEGER REFERENCES PERSONA(id_persona), -- Sender
  id_trabajador INTEGER REFERENCES PERSONA(id_persona), -- Receiver
  mensaje TEXT,
  estado VARCHAR(20) DEFAULT 'PENDIENTE', -- PENDIENTE, ACEPTADA, RECHAZADA
  fecha_creacion TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
